import{_ as D,r as i,ap as g,C as j,X as A,am as F,f as v,j as N,d as e,w as o,h as S,n as _,l as a,aa as h,F as E,y as m,s as I,V as L,i as q}from"./index-kKdGCNTv.js";import{j as T,e as M,_ as R,d as V}from"./VNavigationDrawer-mhgLr_4z.js";import{V as U,f as l}from"./VForm-gsmbMxCf.js";import{D as z}from"./NotificacionEstado-A07MSrjb.js";import{B as K}from"./BotonBi-aYjw3oQ-.js";import{V as x,c as P,d as X,b as G,a as H}from"./VCard-BF-vllR0.js";import{V as J}from"./VLayout-ueVDUMp-.js";import{V as O}from"./VContainer-mYOJDngs.js";import"./index-Y5RnL3hI.js";import"./VGrid-hx-kg6fk.js";import"./VOverlay-M3ELfG5G.js";import"./delay-G9-9mLFc.js";import"./VRow-0Z9k1ICL.js";const Q=m("span",{class:"text-secondary text-h6 mt-3 mb-n5"},"Solicitud de acceso",-1),W={class:"mt-0 mb-0 text-center",color:"red"},Y={__name:"SolicitudAcceso",setup(Z){const p=i(),f=i({username:"",password:""});let r=g({corporativo:"",email:""}),u=i(!0),c=i(!1),y=g({cargando:c,deshabilitado:u,valorBtn:"Solicitar"}),s=i({dialog:!1,tipo:""});const C=()=>{s.value.dialog=!1},b=j(()=>!!s.value);A(r,t=>{t.email.length>0&&t.username?u.value=!1:u.value=!0});function k(t){/[0-9]/.test(t.key)||t.preventDefault()}async function w(){p.value.isValid&&(c.value=!0,q.post("solicitudes-usuario/",r).then(t=>{t.status==201&&(s.value.tipo="solicitud_exitosa",s.value.dialog=!0)}).catch(t=>{console.error(t),s.value.tipo=t.response.data.code,s.value.dialog=!0})),c.value=!1}return(t,n)=>{const B=F("router-link");return v(),N(E,null,[e(x,null,{default:o(()=>[e(J,null,{default:o(()=>[e(T,{color:"background",permanent:"",location:"right",width:"704",elevation:1,id:"navigation-drawer-br-radius"},{default:o(()=>[h(' :aspect-ratio="4 / 3" '),e(P,{"min-width":"340","min-height":"510"},{default:o(()=>[e(M,{density:"compact",nav:"",class:"d-flex align-center justify-center",style:{height:"100vh"}},{default:o(()=>[e(x,{width:"461",height:"762",class:"rounded-xl mt-8 pt-8",elevation:1},{default:o(()=>[e(X,{class:"d-flex align-center flex-column justify-center mt-0"},{default:o(()=>[e(G,{size:"80",rounded:"0"},{default:o(()=>[e(H,{src:R})]),_:1}),Q]),_:1}),e(O,null,{default:o(()=>[e(U,{ref_key:"loginForm",ref:p},{default:o(()=>[e(V,{max:"5",class:"custom-hint-color mb-8",modelValue:a(r).username,"onUpdate:modelValue":n[0]||(n[0]=d=>a(r).username=d),variant:"outlined",placeholder:"Corporativo","persistent-hint":"",maxlength:5,type:"tel",flat:"",hint:"Ingresa tu número corporativo",rules:[a(l).required,a(l).isInteger,a(l).minLength(5),a(l).maxLength(5)],"error-messages":f.value.username,onKeypress:k},null,8,["modelValue","rules","error-messages"]),e(V,{class:"custom-hint-color",modelValue:a(r).email,"onUpdate:modelValue":n[1]||(n[1]=d=>a(r).email=d),variant:"outlined",placeholder:"Correo Electrónico",flat:"",type:"email",rules:[a(l).required,a(l).isEmail],"error-messages":f.value.username},null,8,["modelValue","rules","error-messages"]),e(K,_(a(y),{onAccion:w}),null,16),m("div",W,[m("strong",null,[e(B,{to:{name:"login"},class:"text-secondary text-decoration-none font-weigth-bold"},{default:o(()=>[I("Iniciar Sesión")]),_:1})])])]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(L,{class:"bg-login"})]),_:1})]),_:1}),b.value?(v(),S(z,_({key:0},a(s),{onCerrarDialogo:C}),null,16)):h("v-if",!0)],64)}}},me=D(Y,[["__file","/home/projects/abastecimiento-app/frontend/src/pages/autenticacion/SolicitudAcceso.vue"]]);export{me as default};
